(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(62),o=a.n(r),l=a(2),s=a(3),i=a(4),m=a(6),u=a(5),p=a(63),d=a.n(p).a.create({baseURL:"https://reve-le.herokuapp.com/",withCredentials:!0});function h(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var f=function(e){return d.post("/api/auth/signup",e).then((function(e){return e.data})).catch(h)},g=function(e){return d.post("/api/auth/signin",e).then((function(e){return e.data})).catch(h)},v=function(){return d.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(h)},E=function(){return d.get("/api/auth/logout").then((function(e){return e.data})).catch(h)},y=function(e){return d.get(e)},b=function(e,t){return d.get(e+t)},O=function(e,t){return d.post(e,t)},j=function(e,t){return d.patch(e,t)},x=function(e,t){return d.delete(e+t)},S=c.a.createContext(),F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={user:null,isLoggedIn:!1,isLoading:!0,isAdmin:!1},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0,isAdmin:t.isAdmin})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1,isAdmin:!1})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;v().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1,isAdmin:t.isAdmin})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1,isAdmin:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading,isAdmin:this.state.isAdmin};return c.a.createElement(S.Provider,{value:e},this.props.children)}}]),a}(n.Component),w=a(7),C=function(e){return function(t){return c.a.createElement(S.Consumer,null,(function(a){return c.a.createElement(e,Object.assign({},t,{context:a}))}))}},k=(a(53),C((function(e){var t=e.context;return c.a.createElement("nav",{className:"NavMain"},c.a.createElement(l.c,{exact:!0,to:"/"},c.a.createElement("h3",{className:"logo"},"Reve\u2022le")),c.a.createElement("ul",{className:"nav-list"},t.isLoggedIn&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("p",{onClick:function(){E().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))}},"Logout"))),!t.isLoggedIn&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement(l.c,{to:"/signin"},"Log in")))))}))),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"one-dream"},c.a.createElement("h1",null,"Welcome"),c.a.createElement("span",{style:{textAlign:"center"}}," ","Keep a journal of your dreams with ",c.a.createElement("span",{style:{color:"#eb10db"}},"Reve.le")),c.a.createElement("img",{style:{width:"30vw",marginTop:"30px",marginBottom:"20px"},src:"https://res.cloudinary.com/ddwcgukvk/image/upload/v1603396204/dream4_znu23n.png",alt:"revele1"}),c.a.createElement("p",null,c.a.createElement("span",{style:{color:"#743ece"}},"1.")," When you wake up, take a few seconds to tell us how you feel and to fill in the key elements of your dream."),c.a.createElement("img",{style:{width:"30vw",marginTop:"30px",marginBottom:"20px"},src:"https://res.cloudinary.com/ddwcgukvk/image/upload/v1603292489/ku3ovvmxk3ywtoj1qvxk.png",alt:"revele2"}),c.a.createElement("p",null,c.a.createElement("span",{style:{color:"#743ece"}},"2.")," All your dreams are logged in the application, you can choose to make them public one by one if you want to share them."),c.a.createElement("img",{style:{width:"30vw",marginTop:"30px",marginBottom:"20px"},src:"https://res.cloudinary.com/ddwcgukvk/image/upload/v1603292435/qssbiizwyig3oopyh4rx.png",alt:"revele3"}),c.a.createElement("p",null,c.a.createElement("span",{style:{color:"#743ece"}},"3.")," All your dreams are logged in the application, you can choose to make them public one by one if you want to share them."))}}]),a}(c.a.Component),T=a(8),V=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(T.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),g(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"one-dream"},c.a.createElement("form",{className:"form-login",onChange:this.handleChange,onSubmit:this.handleSubmit},c.a.createElement("input",{placeholder:"Email",type:"email",id:"email",name:"email"}),c.a.createElement("input",{placeholder:"Password",type:"password",id:"password",name:"password"}),c.a.createElement("button",{className:"btn-dream"},"Signin\xa0",c.a.createElement("i",{className:"fas fa-smile"}))),c.a.createElement("span",{style:{marginTop:"30px",display:"flex",flexDirection:"column",alignItems:"center"},className:"tool",to:"/signup"},"Don't have an account?",c.a.createElement(l.b,{style:{color:"#eb10db"},className:"tool",to:"/signup"},"Please register")),c.a.createElement("img",{style:{width:"60vw",marginTop:"30px"},src:"https://res.cloudinary.com/ddwcgukvk/image/upload/v1603395922/rosace_mjgilk.png",alt:"rosace"}))}}]),a}(n.Component);V.contextType=S;var L=Object(w.g)(V),A=function(e){return c.a.createElement(L,null)},D=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:"",email:"",password:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value,n=t.target.name;e.setState(Object(T.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),f(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"one-dream"},c.a.createElement("form",{className:"form-login",onChange:this.handleChange,onSubmit:this.handleSubmit},c.a.createElement("input",{placeholder:"Name",type:"name",id:"name",name:"name"}),c.a.createElement("input",{placeholder:"Email",type:"email",id:"email",name:"email"}),c.a.createElement("input",{placeholder:"Password",type:"password",id:"password",name:"password"}),c.a.createElement("button",{className:"btn-dream"},"Signup\xa0",c.a.createElement("i",{className:"fas fa-smile"}))),c.a.createElement("img",{style:{width:"60vw",marginTop:"30px"},src:"https://res.cloudinary.com/ddwcgukvk/image/upload/v1603395922/rosace_mjgilk.png",alt:"rosace"}))}}]),a}(n.Component);D.contextType=S;var I=Object(w.g)(D),_=function(e){return c.a.createElement(I,null)},P=a(24),M=C((function(e){var t=e.component,a=e.context,n=Object(P.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?c.a.createElement(w.b,Object.assign({},n,{render:function(e){return c.a.createElement(t,e)}})):c.a.createElement(w.a,{to:"/signin"})})),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={redirect:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.context.isLoading?this.setState({redirect:null}):this.context.isLoggedIn?this.setState({redirect:c.a.createElement(w.b,{render:function(e){return c.a.createElement(n.Component,e)}})}):this.setState({redirect:c.a.createElement(w.a,{to:"/signin"})})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.state.redirect)}}]),a}(n.Component);W.contextType=S;C(W);var U=C((function(e){var t=e.component,a=e.context,n=Object(P.a)(e,["component","context"]);return a.isLoading?null:a.isAdmin?c.a.createElement(w.b,Object.assign({},n,{render:function(e){return c.a.createElement(t,e)}})):c.a.createElement(w.a,{to:"/signin"})})),B=a(12),R=a(11),z=a(10),q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:"",email:"",password:"",somes:[],someOne:[],someWhere:[],someThing:[],feelings:[],countedFeels:[]},e.count=function(){e.countOne(),e.countThing(),e.countWhere(),e.countFeelings()},e.countFeelings=function(){var t,a=e.state.feelings,n=Array.from(new Set(a)),c=[],r=Object(R.a)(n.entries());try{var o=function(){var e=Object(B.a)(t.value,2),n=e[0],r=e[1];c.splice(n,1,{x:r,y:a.reduce((function(e,t){return e+(t==r)}),0),label:String(a.reduce((function(e,t){return e+(t==r)}),0))}),c.sort((function(e,t){return t.count>e.count?1:e.count>t.count?-1:0}))};for(r.s();!(t=r.n()).done;)o()}catch(l){r.e(l)}finally{r.f()}e.setState({countedFeels:c})},e.countOne=function(){var t,a=e.state.somes.filter((function(e){return"Someone"===e.type})),n=[],c=Object(R.a)(a.entries());try{for(c.s();!(t=c.n()).done;){var r=Object(B.a)(t.value,2),o=(r[0],r[1]);n.push(o.some)}}catch(p){c.e(p)}finally{c.f()}var l,s=Array.from(new Set(n)),i=[],m=Object(R.a)(s.entries());try{var u=function(){var e=Object(B.a)(l.value,2),t=e[0],n=e[1];i.splice(t,1,{x:n,y:a.reduce((function(e,t){return e+(t.some==n)}),0),label:String(a.reduce((function(e,t){return e+(t.some==n)}),0))}),i.sort((function(e,t){return t.count>e.count?1:e.count>t.count?-1:0}))};for(m.s();!(l=m.n()).done;)u()}catch(p){m.e(p)}finally{m.f()}e.setState({someOne:i})},e.countThing=function(){var t,a=e.state.somes.filter((function(e){return"Something"===e.type})),n=[],c=Object(R.a)(a.entries());try{for(c.s();!(t=c.n()).done;){var r=Object(B.a)(t.value,2),o=(r[0],r[1]);n.push(o.some)}}catch(p){c.e(p)}finally{c.f()}var l,s=Array.from(new Set(n)),i=[],m=Object(R.a)(s.entries());try{var u=function(){var e=Object(B.a)(l.value,2),t=e[0],n=e[1];i.splice(t,1,{x:n,y:a.reduce((function(e,t){return e+(t.some==n)}),0),label:String(a.reduce((function(e,t){return e+(t.some==n)}),0))}),i.sort((function(e,t){return t.count>e.count?1:e.count>t.count?-1:0}))};for(m.s();!(l=m.n()).done;)u()}catch(p){m.e(p)}finally{m.f()}e.setState({someThing:i})},e.countWhere=function(){var t,a=e.state.somes.filter((function(e){return"Somewhere"===e.type})),n=[],c=Object(R.a)(a.entries());try{for(c.s();!(t=c.n()).done;){var r=Object(B.a)(t.value,2),o=(r[0],r[1]);n.push(o.some)}}catch(p){c.e(p)}finally{c.f()}var l,s=Array.from(new Set(n)),i=[],m=Object(R.a)(s.entries());try{var u=function(){var e=Object(B.a)(l.value,2),t=e[0],n=e[1];i.splice(t,1,{x:n,y:a.reduce((function(e,t){return e+(t.some==n)}),0),label:String(a.reduce((function(e,t){return e+(t.some==n)}),0))}),i.sort((function(e,t){return t.count>e.count?1:e.count>t.count?-1:0}))};for(m.s();!(l=m.n()).done;)u()}catch(p){m.e(p)}finally{m.f()}e.setState({someWhere:i})},e.handleSubmit=function(t){t.preventDefault(),j(""+e.state).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(T.a)({},a,n))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;y("/api/dreams").then((function(t){var a,n=t.data,c=[],r=[],o=[],l=Object(R.a)(t.data.entries());try{for(l.s();!(a=l.n()).done;){var s=Object(B.a)(a.value,2),i=(s[0],s[1]);o.push(i.feel)}}catch(j){l.e(j)}finally{l.f()}e.setState({feelings:o});var m,u=Object(R.a)(n.entries());try{for(u.s();!(m=u.n()).done;){var p=Object(B.a)(m.value,2),d=(p[0],p[1]);c.push(d.concepts)}}catch(j){u.e(j)}finally{u.f()}var h,f=Object(R.a)(c.entries());try{for(f.s();!(h=f.n()).done;){var g,v=Object(B.a)(h.value,2),E=(v[0],v[1]),y=Object(R.a)(E.entries());try{var O=function(){var t=Object(B.a)(g.value,2),a=(t[0],t[1]);b("/api/concepts/",a.type).then((function(t){a.type=t.data.name,b("/api/some/",a.some).then((function(t){a.some=t.data.value,r.push(a),e.setState({somes:r},e.count())})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))};for(y.s();!(g=y.n()).done;)O()}catch(j){y.e(j)}finally{y.f()}}}catch(j){f.e(j)}finally{f.f()}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.somes&&this.state.someOne&&this.state.someWhere&&this.state.someThing&&this.state.countedFeels?c.a.createElement("div",{className:"one-dream"},c.a.createElement("div",{style:{paddingBottom:"30px"}},c.a.createElement("h1",{className:"dream"},"Here's what you dream of")),c.a.createElement("span",{className:"charts-title"},"Feelings"),c.a.createElement("span",{style:{marginRight:"30px"}},c.a.createElement(z.d,{height:200,width:300,xType:"ordinal",color:"#743ece"},c.a.createElement(z.b,{data:this.state.countedFeels.slice(0,3)}),c.a.createElement(z.c,null),c.a.createElement(z.a,{data:this.state.countedFeels.slice(0,3)}))),c.a.createElement("div",{className:"lists-somes"},c.a.createElement("span",{className:"charts-title"},"People"),c.a.createElement("div",{style:{marginRight:"30px",marginBottom:"30px"},className:"list-one"},c.a.createElement(z.d,{height:200,width:300,xType:"ordinal",color:"#eb10db"},c.a.createElement(z.b,{data:this.state.someOne.slice(0,3)}),c.a.createElement(z.c,null),c.a.createElement(z.a,{data:this.state.someOne.slice(0,3),color:"white"}))),c.a.createElement("span",{className:"charts-title"},"Places"),c.a.createElement("div",{style:{marginRight:"30px",marginBottom:"30px"},className:"list-where"},c.a.createElement(z.d,{height:200,width:300,xType:"ordinal",color:"#eb10db"},c.a.createElement(z.b,{data:this.state.someWhere.slice(0,3)}),c.a.createElement(z.c,null),c.a.createElement(z.a,{data:this.state.someWhere.slice(0,3),color:"white"}))),c.a.createElement("span",{className:"charts-title"},"Things"),c.a.createElement("div",{style:{marginRight:"30px"},className:"list-thing"},c.a.createElement(z.d,{height:200,width:300,xType:"ordinal",color:"#eb10db"},c.a.createElement(z.b,{data:this.state.someThing.slice(0,3)}),c.a.createElement(z.c,null),c.a.createElement(z.a,{data:this.state.someThing.slice(0,3),color:"white"}))))):c.a.createElement("div",null)}}]),a}(n.Component);q.contextType=S;var H=q,J=function(e){return c.a.createElement("div",null,c.a.createElement("h3",{className:"dream-name"},e.name))},K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={dreams:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;y("/api/dreams").then((function(t){e.setState({dreams:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteOne",value:function(e){var t=this;x("/api/dreams/",e).then((function(e){return t.componentDidMount()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.dreams;t.reverse();var a=this.state.dreams[0];return t.shift(),c.a.createElement("div",{className:"one-dream"},c.a.createElement("h1",{className:"dreams-list"},"Here are the list of all your dreams"),a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{style:{marginTop:"20px"}},"After the last one, you woke up"," ",c.a.createElement("span",{style:{color:"#eb10db"}},a.feel.toLowerCase()),"\xa0and you decided to name it ",c.a.createElement("q",null,a.name),",\xa0remember?",c.a.createElement("br",null),"You can go and"," ",c.a.createElement(l.b,{style:{color:"#896fac"},to:"/dreams/".concat(a._id,"/")},"read it"),", or"," ",c.a.createElement("span",{style:{color:"#896fac"},onClick:function(){return e.deleteOne(a._id)}},"delete it")," ","if necessary."),c.a.createElement("p",{style:{marginTop:"20px"}},"And of course, here is the list of all the others:")),c.a.createElement("div",{className:"dreams-fulllist"},t.map((function(t){return c.a.createElement(c.a.Fragment,{key:t._id},c.a.createElement("div",{style:{marginTop:"12px"},className:"dream-tools"},!0===t.isProtected&&c.a.createElement("i",{className:"fas fa-lock"}),!1===t.isProtected&&c.a.createElement("i",{className:"fas fa-lock-open"})," ",c.a.createElement(J,{id:t._id,name:t.name}),c.a.createElement("div",null,c.a.createElement(l.b,{style:{color:"#896fac"},className:"tool",to:"/dreams/".concat(t._id,"/")},"read"),c.a.createElement(l.b,{style:{color:"#896fac"},className:"tool",to:e.props,onClick:function(){return e.deleteOne(t._id)}},"delete"))))}))))}}]),a}(n.Component),Y=a(19),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={feeling:""},e.handleChange=function(t){e.setState({feeling:t.target.value},(function(){return e.sendFeeling()}))},e.sendFeeling=function(t){e.props.handleFeeling({feeling:e.state.feeling})},e}return Object(i.a)(a,[{key:"render",value:function(){return console.log(this.props),c.a.createElement("div",null,c.a.createElement("label",{style:{fontSize:"16px",color:0===this.state.feeling.length?"#FFF":"#896fac"},className:"who",htmlFor:"feeling"},"Does it make you think of anything in particular?"),c.a.createElement("input",{id:"feeling",type:"text",value:this.state.value,name:"feeling",onChange:this.handleChange}))}}]),a}(n.Component),Q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={value:"",user:"",concept:""},e.createSome=function(){O("/api/some",e.state).then((function(t){e.props.handleSome(t.data)})).catch((function(e){console.log(e)})),e.setState({value:""})},e.updateSome=function(){j("/api/some/"+e.props.id,e.state).then((function(e){})).catch((function(e){console.log(e)}))},e.addSome=function(t){"edit"===e.props.action?e.updateSome():e.createSome()},e.handleChange=function(t){var a,n=t.target.name,c=t.target.value;e.setState((a={},Object(T.a)(a,n,c),Object(T.a)(a,"user",e.context.user._id),Object(T.a)(a,"concept",e.props.concept),a))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("input",{id:"value",type:"text",value:this.state.value,name:"value",onChange:this.handleChange}),c.a.createElement("p",{className:"who",onClick:function(){return e.addSome()}}," hop"))}}]),a}(n.Component);Q.contextType=S;var X=Object(w.g)(Q),Z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={someList:null,addInput:"",someValue:"",feeling:"",feelingValue:""},e.handleChange=function(t){e.setState({someValue:t.target.value},(function(){return e.props.handleValue({someValue:e.state.someValue})}),e.setFeeling())},e.addInput=function(t){e.setState({addInput:c.a.createElement(X,{concept:e.props.someType,handleSome:e.addSome})})},e.setFeeling=function(t){e.setState({feeling:c.a.createElement(G,{key:e.state.someValue,handleFeeling:e.addFeeling})})},e.addFeeling=function(t){e.setState({feelingValue:t.feeling},(function(){return e.props.liftFeeling({feelingValue:e.state.feelingValue})}))},e.addSome=function(t){e.setState({someList:[].concat(Object(Y.a)(e.state.someList),[t]),someValue:t._id,addInput:""},(function(){return e.props.handleValue({someValue:e.state.someValue})}),e.setFeeling())},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;y("/api/some").then((function(t){e.setState({someList:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;if(!this.state.someList)return c.a.createElement("div",null);var t=this.state.someList.filter((function(t){return t.concept===e.props.someType}));return c.a.createElement("div",null,c.a.createElement("span",{style:{fontSize:"16px",marginTop:"20px",color:0===this.state.someValue.length?"#FFF":"#896fac"},className:"who"},"That you already know?"),c.a.createElement("br",null),c.a.createElement("span",{style:{fontSize:"16px",color:0===this.state.someValue.length?"#FFF":"#896fac"},className:"whos"},"Oh yeah, it's"," "),c.a.createElement("select",{id:"some",value:this.state.someValue,name:"some",onChange:this.handleChange},c.a.createElement("option",{value:"",disabled:!0}),t.map((function(e){return c.a.createElement("option",{value:e._id,key:e._id},e.value)}))),c.a.createElement("span",{style:{fontSize:"16px",color:0===this.state.someValue.length?"#FFF":"#896fac"},className:"who",onClick:function(){return e.addInput()}},"Nope, let me add it ",c.a.createElement("i",{className:"fas fa-plus"})),c.a.createElement("div",null,this.state.addInput),c.a.createElement("div",null,this.state.feeling))}}]),a}(n.Component),$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={conceptsList:null,concepts:"",someValue:"",someType:"",some:"",id:"",feelingValue:""},e.handleChange=function(t){var a,n=t.target.value,c=t.target.name,r=e.props.id;e.setState((a={},Object(T.a)(a,c,n),Object(T.a)(a,"someType",t.target.value),Object(T.a)(a,"id",r),a),(function(){return e.setSome()})),e.props.handleConcept({id:r,type:t.target.value,some:e.state.someValue,feeling:""})},e.setSome=function(t){e.setState({some:c.a.createElement(Z,{handleValue:e.getValue,liftFeeling:e.getFeeling,someType:e.state.someType})})},e.getValue=function(t){e.setState({someValue:t.someValue},(function(){return e.props.handleConcept({id:e.state.id,type:e.state.someType,some:e.state.someValue,feeling:""})}))},e.getFeeling=function(t){e.setState({feelingValue:t.feelingValue},(function(){return e.props.handleConcept({id:e.state.id,type:e.state.someType,some:e.state.someValue,feeling:e.state.feelingValue})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;y("/api/concepts").then((function(t){e.setState({conceptsList:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.conceptsList?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("select",{id:"concepts",defaultValue:"-1",name:"concepts",onChange:this.handleChange},c.a.createElement("option",{value:"-1",disabled:!0}),this.state.conceptsList.map((function(e){return c.a.createElement("option",{value:e._id,key:e._id},e.name)})))),c.a.createElement("div",null,this.state.some)):c.a.createElement("div",null)}}]),a}(n.Component),ee=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:"",user:"",feel:"",date:new Date,concepts:[{type:"",some:"",feeling:""}],isEditing:e.props.action,createVisible:!1},e.createDream=function(){O("/api/dreams",e.state).then((function(t){e.props.history.push("/dreams")})).catch((function(e){console.log(e)}))},e.updateDream=function(){j("/api/dreams/"+e.props.id,e.state).then((function(t){e.props.history.push("/dreams")})).catch((function(e){console.log(e)}))},e.handleSubmit=function(t){t.preventDefault(),"edit"===e.props.action?e.updateDream():e.createDream()},e.handleChange=function(t){var a,n=t.target.name,c="file"===t.target.type?t.target.files[0]:t.target.value;e.setState((a={},Object(T.a)(a,n,c),Object(T.a)(a,"user",e.context.user._id),a))},e.addCreate=function(t){e.setState({createVisible:!0})},e.getConcept=function(t){var a=Object(Y.a)(e.state.concepts),n=t.id,c=Object(P.a)(t,["id"]);a.splice(n,1,c),e.setState({concepts:a})},e.removeConcept=function(t){var a=Object(Y.a)(e.state.concepts);a.splice(t.id,1),e.setState({concepts:a})},e.addConcept=function(t){e.setState((function(e){return{concepts:[].concat(Object(Y.a)(e.concepts),[{type:"",some:"",feeling:""}])}}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;"edit"===this.props.action&&b("/api/dreams/",this.props.id).then((function(t){var a=t.data;e.setState({name:a.name,concepts:a.concepts,user:a.user})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t="edit"===this.state.isEditing?"Edit":"Create";return c.a.createElement("div",{className:"one-dream"},c.a.createElement("form",{className:"form-dream",onSubmit:this.handleSubmit},c.a.createElement("span",{style:{fontSize:"16px",color:0===this.state.feel.length?"#FFFFFF":"#896fac"}},"Hello ",this.context.user.name,","),c.a.createElement("h2",{style:{color:0===this.state.feel.length?"#FFFFFF":"#896fac"},className:"question"},"How do you feel this morning?"),c.a.createElement("select",{id:"feel",defaultValue:"-1",name:"feel",onChange:this.handleChange},c.a.createElement("option",{value:"-1",disabled:!0}),c.a.createElement("option",{value:"Excited"},"Excited"),c.a.createElement("option",{value:"Happy"},"Happy"),c.a.createElement("option",{value:"Contented"},"Contented"),c.a.createElement("option",{value:"Calm"},"Calm"),c.a.createElement("option",{value:"Bored"},"Bored"),c.a.createElement("option",{value:"Sad"},"Sad"),c.a.createElement("option",{value:"Scared"},"Scared"),c.a.createElement("option",{value:"Angry"},"Angry"),c.a.createElement("option",{value:"Upset"},"Upset"),c.a.createElement("option",{value:"Nervous"},"Nervous")),c.a.createElement("div",{style:{visibility:0===this.state.feel.length?"hidden":"visible"}},c.a.createElement("h2",{style:{color:0===this.state.concepts[0].type.length?"#FFFFFF":"#896fac"},className:"question"},"What do you remember about your dream?"),this.state.concepts.map((function(t,a){return c.a.createElement("div",{className:"about-some",key:a,style:{display:"flex"}},c.a.createElement("p",{style:{fontSize:"16px",color:0===e.state.concepts[a].type.length?"#FFFFFF":"#896fac"}},"It was about..."),c.a.createElement($,{handleConcept:e.getConcept,sendValue:e.getConcept,handleRemove:e.removeConcept,concepts:e.state.concepts,idEditing:e.state.isEditing,id:a}))})),c.a.createElement("div",{style:{visibility:0===this.state.concepts[0].feeling.length?"hidden":"visible"}},c.a.createElement("h2",{style:{marginTop:"20px",color:!1===this.state.createVisible?"#FFFFFF":"#896fac"},className:"question"},"Remember something else ?"),c.a.createElement("p",null,c.a.createElement("span",{style:{color:!1===this.state.createVisible?"#FFFFFF":"#896fac"},className:"add-some",onClick:function(){return e.addConcept()}},"Mhhhhm yep"),c.a.createElement("span",{style:{color:!1===this.state.createVisible?"#FFFFFF":"#896fac"},onClick:function(){return e.addCreate()}}," ","Nope, that's it")),c.a.createElement("div",{style:{marginTop:"20px",visibility:!1===this.state.createVisible?"hidden":"visible"}},c.a.createElement("label",{htmlFor:"name"},"Let's give this dream a name"),c.a.createElement("input",{id:"name",type:"text",value:this.state.name,name:"name",onChange:this.handleChange}),c.a.createElement("br",null),c.a.createElement("button",{style:{marginTop:"20px",visibility:0===this.state.name.length?"hidden":"visible"},className:"btn-dream"},t,"\xa0",c.a.createElement("i",{className:"fas fa-smile"})))))))}}]),a}(n.Component);ee.contextType=S;var te=Object(w.g)(ee),ae=function(e){return c.a.createElement("div",null,c.a.createElement(te,{action:"edit",id:e.match.params.id}))},ne=(a(115),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={dream:null,concepts:[],isProtected:""},e.buildDream=function(t){var a,n=Object(R.a)(t.entries());try{var c=function(){var n=Object(B.a)(a.value,2),c=n[0],r=n[1];b("/api/some/",r.some).then((function(a){t[c].some=a.data.value;var n=Object(Y.a)(e.state.concepts);n.splice(c,1,t[c]),e.setState({concepts:n});var r,o=Object(R.a)(n.entries());try{var l=function(){var a=Object(B.a)(r.value,2),n=a[0],c=a[1];b("/api/concepts/",c.type).then((function(a){t[n].type=a.data.name,t[n].img=a.data.image;var c=Object(Y.a)(e.state.concepts);c.splice(n,1,t[n]),e.setState({concepts:c})})).catch((function(e){console.log(e)}))};for(o.s();!(r=o.n()).done;)l()}catch(s){o.e(s)}finally{o.f()}})).catch((function(e){console.log(e)}))};for(n.s();!(a=n.n()).done;)c()}catch(r){n.e(r)}finally{n.f()}},e.share=function(t){!0===e.state.isProtected?e.setState({isProtected:{isProtected:"false"}},(function(){return e.update()})):e.setState({isProtected:{isProtected:"true"}},(function(){return e.update()}))},e.update=function(t){j("/api/dreams/"+e.props.match.params.id,e.state.isProtected).then((function(e){})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b("/api/dreams/",this.props.match.params.id).then((function(t){if(e.context.isLoading)return null;!0===t.data.isProtected&&!1===e.context.isLoggedIn?e.props.history.push("/signin"):(console.log(e.context),e.setState({dream:t.data,isProtected:t.data.isProtected}),e.buildDream(t.data.concepts))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;if(!this.state.dream)return c.a.createElement("div",null);var t=this.state.dream.date.split("T")[0].split("-");"".concat(t[2],"-").concat(t[1],"-").concat(t[0]);return c.a.createElement("div",{className:"one-dream"},c.a.createElement("h1",{className:"dream"},this.state.dream.name),c.a.createElement("p",null,"I was"," ",c.a.createElement("span",{style:{color:"#eb10db"}},this.state.dream.feel.toLowerCase())," ","when I woke up. ",c.a.createElement("br",null),"Here's what I remember about this dream..."),c.a.createElement("div",{className:"somes"},this.state.concepts.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:t},c.a.createElement("div",{className:"some-item"},c.a.createElement("img",{className:"dream-img",src:e.img,alt:e.some}),c.a.createElement("div",{className:"dream-data"},"Someone"===e.type&&c.a.createElement("p",{className:"dream-type"},"Who?"),"Something"===e.type&&c.a.createElement("p",{className:"dream-type"},"What?"),"Somewhere"===e.type&&c.a.createElement("p",{className:"dream-type"},"Where?"),c.a.createElement("h3",{className:"dream-title"},e.some),e.feeling&&c.a.createElement("p",{className:"dream-feeling"},c.a.createElement("span",{className:"dream-thought"},"And I thought:")," ",c.a.createElement("br",null),c.a.createElement("q",null,c.a.createElement("i",null,e.feeling))))))}))),c.a.createElement("span",{style:{marginTop:"20px"},onClick:function(){return e.share()}},"Share this dream\xa0\xa0\xa0",c.a.createElement("label",{className:"switch"},c.a.createElement("input",{type:"checkbox",onChange:this.share}),c.a.createElement("span",{onClick:function(){return e.share()},className:"slider round"}))))}}]),a}(n.Component));ne.contextType=S;var ce=Object(w.g)(ne),re=function(e){return c.a.createElement("div",null,c.a.createElement("img",{src:e.image,alt:e.name}),c.a.createElement("p",null,e.name))},oe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={concepts:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;y("/api/concepts").then((function(t){e.setState({concepts:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteOne",value:function(e){var t=this;x("/api/concepts/",e).then((function(e){return t.componentDidMount()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"one-dream"},c.a.createElement("h1",null,"Concepts"),c.a.createElement(l.b,{to:"/concepts/create"},"Create"),this.state.concepts.map((function(t){return c.a.createElement(c.a.Fragment,{key:t._id},c.a.createElement(re,{key:t._id,id:t._id,name:t.name,image:t.image}),c.a.createElement(l.b,{to:e.props,onClick:function(){return e.deleteOne(t._id)}},"Delete"),c.a.createElement(l.b,{to:"/concepts/".concat(t._id,"/edit")},"Edit"))})))}}]),a}(n.Component),le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:"",image:""},e.createConcept=function(){var t=new FormData;for(var a in e.state)t.append(a,e.state[a]);O("/api/concepts",t).then((function(t){e.props.history.push("/concepts")})).catch((function(e){console.log(e)}))},e.updateConcept=function(){var t=new FormData;for(var a in e.state)t.append(a,e.state[a]);j("/api/concepts/"+e.props.id,t).then((function(t){e.props.history.push("/concepts")})).catch((function(e){console.log(e)}))},e.handleSubmit=function(t){t.preventDefault(),"edit"===e.props.action?e.updateConcept():e.createConcept()},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;e.setState(Object(T.a)({},a,n))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;"edit"===this.props.action&&b("/api/concepts/",this.props.id).then((function(t){var a=t.data;e.setState({name:a.name})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e="edit"===this.props.action?"Edit":"Create";return c.a.createElement("form",{className:"Form",onSubmit:this.handleSubmit},c.a.createElement("label",{htmlFor:"name"},"Name"),c.a.createElement("input",{id:"name",type:"text",value:this.state.name,name:"name",onChange:this.handleChange}),c.a.createElement("label",{htmlFor:"image"},"Image"),c.a.createElement("input",{type:"file",name:"image",id:"image",onChange:this.handleChange}),c.a.createElement("button",null,e))}}]),a}(n.Component),se=Object(w.g)(le),ie=function(e){return c.a.createElement("div",null,c.a.createElement(se,{action:"edit",id:e.match.params.id}))},me=function(e){return c.a.createElement("div",null,c.a.createElement(te,null))},ue=function(e){return c.a.createElement("div",null,c.a.createElement(se,null))},pe=function(e){return c.a.createElement("div",null,c.a.createElement(X,null))},de=C((function(e){e.context;return c.a.createElement("nav",{className:"footer"},c.a.createElement("ul",{className:"footer-list"},c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement(l.c,{exact:!0,className:"underline",to:"/dreams/create"},"Write"))),c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement(l.c,{exact:!0,className:"underline",to:"/dreams"},"Dreams"))),c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement(l.c,{className:"underline",to:"/profile"},"Profile")))))}));var he=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(k,null),c.a.createElement(w.d,null,c.a.createElement(w.b,{exact:!0,path:"/",component:N}),c.a.createElement(w.b,{exact:!0,path:"/signin",component:A}),c.a.createElement(w.b,{exact:!0,path:"/signup",component:_}),c.a.createElement(M,{exact:!0,path:"/profile",component:H}),c.a.createElement(M,{exact:!0,path:"/dreams",component:K}),c.a.createElement(M,{exact:!0,path:"/dreams/create",component:me}),c.a.createElement(M,{exact:!0,path:"/dreams/:id/edit",component:ae}),c.a.createElement(w.b,{exact:!0,path:"/dreams/:id",component:ce}),c.a.createElement(U,{exact:!0,path:"/concepts",component:oe}),c.a.createElement(U,{exact:!0,path:"/concepts/create",component:ue}),c.a.createElement(U,{exact:!0,path:"/concepts/:id/edit",component:ie}),c.a.createElement(U,{exact:!0,path:"/some",component:Z}),c.a.createElement(U,{exact:!0,path:"/some/create",component:pe})),c.a.createElement(de,null))};a(116),a(117);o.a.render(c.a.createElement(l.a,null,c.a.createElement(F,null,c.a.createElement(he,null))),document.getElementById("root"))},53:function(e,t,a){},68:function(e,t,a){e.exports=a(118)}},[[68,1,2]]]);
//# sourceMappingURL=main.051ca9ff.chunk.js.map